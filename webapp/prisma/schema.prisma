// SQLite Prisma schema for D&D 5e core content
// Run `npx prisma migrate dev` after editing

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

generator client {
  provider = "prisma-client-js"
}

model Race {
  id                Int      @id @default(autoincrement())
  name              String
  source            String?
  size              Json?
  speed             Json?
  ability           Json?
  traitTags         Json?
  languageProficiencies Json?
  entries           Json?
}

model Item {
  id         Int      @id @default(autoincrement())
  name       String
  type       String?
  entries    Json?
  rarity     String?
  value      Int?
  weight     Int?
}

model Background {
  id         Int      @id @default(autoincrement())
  name       String
  source     String?
  entries    Json?
  skillProficiencies Json?
  toolProficiencies Json?
  languages Json?
  feature Json?
}

model Feat {
  id         Int      @id @default(autoincrement())
  name       String
  entries    Json?
  prerequisite Json?
}

model Class {
  id         Int      @id @default(autoincrement())
  name       String
  primaryAbility Json?
  hitDice String?
  proficiencies Json?
  classFeatures Json?
  subclassFeatures Json?
  spellcasting Json?
  optionalfeatureProgression Json?
}

model Spell {
  id         Int      @id @default(autoincrement())
  name       String
  level      Int
  school     String?
  time       Json?
  range      Json?
  components Json?
  duration   Json?
  entries    Json?
  areaTags   Json?
  miscTags   Json?
  damageInflict Json?
  damageResist Json?
  damageImmune Json?
  damageVulnerable Json?
  savingThrow Json?
}

model OptionalFeature {
  id                   String @id
  name                 String
  source               String?
  featureType          Json?
  prerequisite         Json?
  prerequisiteSummary  Json?
  entries              Json?
  entriesHigherLevel   Json?
  additionalSpells     Json?
  addSpells            Json?
  removeSpells         Json?
  gainSubclassFeature  Json?
  gainAnotherFeature   Json?
  otherSources         Json?
  page                 Json?
  className            Json?
  classSource          Json?
  subclassName         Json?
  subclassShortName    Json?
  subclassSource       Json?
  level                Json?
  ability              Json?
  savingThrowProficiencies Json?
  skillProficiencies   Json?
  toolProficiencies    Json?
  languageProficiencies Json?
  flags                Json?
  repeatable           Json?
  prerequisiteAbility  Json?
  prerequisiteSpell    Json?
  otherPrerequisites   Json?
  fluff                Json?
  hasFluff             Json?
  hasFluffImages       Json?
  srd                  Json?
  srd52                Json?
  basicRules           Json?
  data                 Json?
}
